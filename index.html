<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
	<meta property="og:image" content="assets/images/favicon.png" />
	<meta name="description" content="Forecast">
	<meta name="keywords" content="Forecast">
	<meta name="author" content="J03L">

	<!-- css -->
	<link rel="stylesheet" type="text/css" href="assets/css/main.css">

	<!-- api -->
	<link rel="stylesheet" type="text/css" href="assets/bootstrap/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="assets/css/animate.min.css" media="all">

	<!-- scripts -->
	<script type="text/javascript" src="assets/fontawesome/fontawesome-all.min.js"></script>

</head>
<body>

	<!-- frame -->
	<section class="frame"></section>

</body>

<!-- scripts -->
<script type="text/javascript" src="assets/js/jquery.min.js"></script>

<!-- api -->
<script type="text/javascript" src="assets/bootstrap/bootstrap.min.js"></script>

<!-- controller -->
<script type="text/javascript" src="controller/app.js"></script>
<script type="text/javascript" src="controller/storage.js"></script>
<script type="text/javascript" src="controller/start.js"></script>

<!-- run app -->
<script>
	var start = new Start(), app = new App();
	start.init();
</script>

<!-- functions -->
<script type="text/javascript">

	function timestamp() {
		var month = new Array();
		month[0] = "January";
		month[1] = "February";
		month[2] = "March";
		month[3] = "April";
		month[4] = "May";
		month[5] = "June";
		month[6] = "July";
		month[7] = "August";
		month[8] = "September";
		month[9] = "October";
		month[10] = "November";
		month[11] = "December";
		var d = new Date();
		var m = month[d.getMonth()];
		var y = d.getFullYear();
		document.getElementById("month").innerHTML = m + "<br><small>"+y+"</small>";
	}

	function total(){
   var total = 0;
   $('.cost').each(function(i, obj) {
    total += parseInt($(this).text());
   });
	 line(total);
	}
	function line(total) {
		var average = 0;
		$('.cost').each(function(i, obj) {
			average = parseInt($(this).text())/total;
			// percent of each
  		// console.log(average*100);
			if (average*100 > 70) {
				average = average*100 - 10;
			} else {
				average = average*100 + 10;
			}
			$(this).siblings('.line').animate({width: average+'%'}, 1500);

    });
	}

	function debt(){
   var total = 0;
   $('.debtTotal').each(function(i, obj) {
    total += parseInt($(this).text());
		// console.log(total);
   });
	 debtLine(total);
	}
	function debtLine(total) {
		var average = 0;
		$('.debtTotal').each(function(i, obj) {
			average = parseInt($(this).text())/total;
			// percent of each
  		// console.log(average*100);
			if (average*100 > 30) {
				average = average*100 - 10;
			} else {
				average = average*100;
			}
			$(this).siblings('.line').animate({width: average+'%'}, 1500);

    });
	}

	function debts(){
		var debts = document.getElementById("debts-drop");
		var add = document.getElementById("add-drop");
		var data = document.getElementById("data-drop");
		if (document.querySelector("#debts-drop").classList.contains("hidden")) {
			debts.className = debts.className.replace(/\bhidden\b/g, "open");
			add.className = add.className.replace(/\bopen\b/g, "hidden");
			data.className = data.className.replace(/\bopen\b/g, "hidden");
			$('.chart').empty();
			debtChart();
		} else {
			debts.className = debts.className.replace(/\bopen\b/g, "hidden");
		}
	}
	function add(){
		var add = document.getElementById("add-drop");
		var debts = document.getElementById("debts-drop");
		var data = document.getElementById("data-drop");
		if (document.querySelector("#add-drop").classList.contains("hidden")) {
			add.className = add.className.replace(/\bhidden\b/g, "open");
			debts.className = debts.className.replace(/\bopen\b/g, "hidden");
			data.className = data.className.replace(/\bopen\b/g, "hidden");
			$('.chart').empty();
		} else {
			add.className = add.className.replace(/\bopen\b/g, "hidden");
		}
	}
	function data(){
		var data = document.getElementById("data-drop");
		var add = document.getElementById("add-drop");
		var debts = document.getElementById("debts-drop");
		if (document.querySelector("#data-drop").classList.contains("hidden")) {
			data.className = data.className.replace(/\bhidden\b/g, "open");
			dataChart();
			add.className = add.className.replace(/\bopen\b/g, "hidden");
			debts.className = debts.className.replace(/\bopen\b/g, "hidden");
		} else {
			data.className = data.className.replace(/\bopen\b/g, "hidden");
			$('.chart').empty();
		}
	}
	function palette() {
		var colorWell = document.querySelector("#palette");
	  colorWell.addEventListener("input", colorVal, true);
	}
	function colorVal(event) {
		$("#palette").attr('value', event.target.value);
		$("#color").attr('placeholder', event.target.value);
		console.log(event.target.value);
	}

</script>

<!-- data chart -->
<script type="text/javascript" src="assets/js/datachart.js"></script>

<!-- debt chart -->
<script type="text/javascript" src="assets/js/debtchart.js"></script>

</html>
